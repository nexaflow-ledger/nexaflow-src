[node]
node_id = "validator-1"
host = "0.0.0.0"
port = 9001
peers = ["peer1.nfledger.com:9001", "peer2.nfledger.com:9001", "peer3.nfledger.com:9001"]  # other validators

[ledger]
total_supply = 100_000_000_000.0
min_fee = 0.000010

[consensus]
interval_seconds = 10
proposal_wait_seconds = 2.0
initial_threshold = 0.50
final_threshold = 0.80
# BFT mode — sign and verify consensus proposals.
# Keys are auto-generated on first run when auto_generate_keys = true.
# You can also generate manually:  python scripts/gen_node_cert.py --node-id validator-1
auto_generate_keys = true            # generate BFT keys on first run if missing
certs_dir = "certs"                  # directory for auto-generated key material
validator_key_file = ""              # e.g. "certs/validator-1.key" (auto-filled when generated)
validator_pubkeys_dir = ""           # e.g. "certs/pubkeys/" (auto-filled when generated)

[tls]
# When enabled every P2P connection is TLS-encrypted.
# Certificates are auto-generated on first run when auto_generate = true.
# You can also generate manually:  python scripts/gen_node_cert.py --node-id validator-1
enabled = false
auto_generate = true                # generate TLS CA + node cert on first run if missing
cert_file = "certs/node.crt"
key_file  = "certs/node.key"
ca_file   = "certs/ca.crt"
verify_peer = true              # mutual TLS — require peer certificate

[api]
enabled = true
host = "127.0.0.1"
port = 8080
api_key = "your-secret-api-key"
rate_limit_rpm = 120

[storage]
enabled = true
path = "data/nexaflow.db"

# Every node in the network MUST have identical genesis config
[genesis.accounts]
"rGGnFi6YTeXvNATZBt19NNVbke1eE9Totm" = 100_000_000_000.0

[logging]
level = "INFO"
format = "json"